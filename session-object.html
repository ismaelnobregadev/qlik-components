<!doctype html>
<!-- <html qva-bootstrap="false" lang="en"> -->
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Simple html with qdt-components</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta http-equiv="cleartype" content="on">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="index.css" />
    <link rel="shortcut icon" href="favicon.ico" />
    <script type="text/javascript" src="js/qdt-components.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs2015.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>

<body>
    <div class="qdt-html-template text-center">
        <img src="banner_html5.jpg" class="banner">
        <h3>This is a simple html page that uses <a href="https://github.com/qlik-demo-team/qdt-components">qdt-components</a>.</h3>
        <ul>
            <li><a href="index.html">Simple Object</a> |</li>
            <li><a href="session-object.html">Session Object</a> | </li>
            <li><a href="selection-toolbar.html">Selection Toolbar</a> | </li>
            <li><a href="picasso.html">Picasso - Charts</a></li>
        </ul>
    </div>
    <div id="qdt1"></div>
    
       
    

    <script type="text/javascript">
        var qConfig = {
             "config": {
                 "host": "qap.sebrae.com.br",
                 "secure": true,
                 "port": 443,
                 "prefix": "usina",
                 "appId": "d183a25e-de1d-47a0-b2a0-459dfbbc20d1"
             },
             "connections": { 
                 "vizApi": true, 
                 "engineApi": false 
             }
         }
         var vizOptions = {      
            "showTitles": true,
            "title": "Custom title",
            "subtitle": "Custom Subtitle",
            "footnote": "Custom Footnote",
            "scrollStartPos": 0,
            "orientation": "horizontal",
            "dataPoint": {
                "showLabels": true
            },
            "qHyperCubeDef": {
                "qDimensions": [{ 
                    "qDef": { 
                        "qGrouping": "N", 
                        "qFieldDefs": ["Porte2"],
                        "qSortCriterias": [ {
                            "qSortByState": 0,
                            "qSortByFrequency": 0,
                            "qSortByNumeric": 0,
                            "qSortByAscii": 1,
                            "qSortByLoadOrder": 1,
                            "qSortByExpression": 0,
                            "qExpression": {
                                "qv": ""
                            },
                            "qSortByGreyness": 0
                        }],
                    } 
                }],
                "qMeasures": [{
                    "qDef": {
                        "qDef": "=Count({<TIPO_ESTAB = {'1'}, [%CODSITCADST]={'02'}> } NUM_CNPJ)",
                        "qLabel": "Custom Measure Label"
                    },
                    "qSortBy": { 
                        "qSortByState": 0, 
                        "qSortByFrequency": 0, 
                        "qSortByNumeric": -1, 
                        "qSortByAscii": 0, 
                        "qSortByLoadOrder": 1, 
                        "qSortByExpression": 0, 
                        "qExpression": { 
                            "qv": "" 
                        } 
                    },
                    "qAttributeExpressions": [{
                        "qExpression": "If(firstsortedvalue( Priority, -Aggr(Count({<[Cases Open/Closed]={'Open Cases'}>}Distinct [%CaseId] ),[Case Owner Group],Priority))='Low', rgb(39,110,39),  If(firstsortedvalue( Priority, -Aggr(Count({<[Cases Open/Closed]={'Open Cases'}>}Distinct [%CaseId] ),[Case Owner Group],Priority))='Medium', rgb(255,207,2),  If(firstsortedvalue( Priority, -Aggr(Count({<[Cases Open/Closed]={'Open Cases'}>}Distinct [%CaseId] ),[Case Owner Group],Priority))='High', rgb(249,63,23))))",
                        "id": "colorByExpression"
                    }]
                }],
                "qInterColumnSortOrder": [
                    1,
                    0
                ],
                "qSuppressZero": false,
                "qSuppressMissing": true,
            },
            "color": {
                "auto": false,
                "mode": "byExpression",
                "expressionIsColor": true
            },
            "legend": {
                "show": true
            },
            "dimensionAxis": {
                "show": "labels"
            },
            "measureAxis": {
                "show": "labels",
                "spacing": 2,
            }
         }
         var QdtComponent = new QdtComponents(qConfig.config, qConfig.connections);
         var element = document.getElementById('qdt1');
         QdtComponent.render('QdtViz', {type: 'barchart', options: vizOptions, height:'300px'}, element);
     </script>
</body>

</html>